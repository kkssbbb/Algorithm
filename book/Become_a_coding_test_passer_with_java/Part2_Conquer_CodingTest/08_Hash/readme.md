# 해시
## 해시 개념
해시는 키를 통해 데이터에 바로 접근 할 수 있다.
해시는 해시 함수를 사용해 키를 해시값(인덱스)로 변환해 데이터를 저장해서 빠른 데이터 탐색을 제공하는 자료구조 이다.

## 해시 특징
1. 단방향으로 동작한다.
   - 키를통해 값을 찾을 수 있지만, 값을 통해 키를 찾을 수 없다.  

2. 값을 O(1)로 바로 찾을 수 있다.  
   - 키 자체가 해시 함수에 의해 값이있는 인덱스이기 떄문이다.    

3. 값을 인덱스로 활용하려면 적절한 변환 과정을 거쳐야한다.  
> 단방향으로 동작하는 해시의 특성으로 외부에 정보를 안전하게 제공된다는 특징이 있어서 네트워크 보안에서 많이 활용된다.

## 버킷(bucket)
- 해시테이블의 각 데이터를 버킷 이라고 부른다.
### 예시
### 해시 테이블  
| 해시 인덱스 | 버킷 내용         |
|:-----------:|:-----------------|
|      0      | 12, 44           |
|      1      | 23               |
|      2      | (비어있음)        |
|      3      | 39, 56, 72       |

- 위 표에서 각 칸(0~3)이 **버킷**이며, 하나의 버킷에 여러 데이터가 들어갈 수 있다.

## 해시 특성을 활용하는 분야  
데이터를 저장하고 검색, 보안이 필요할때활용된다.  
코딩테스트에서는 특정 데이터를 탐색하는 횟수가 많을 경우 해시를 고려하면 좋다.  
### 해시 활용 실제 사례
1. 비밀번호관리
2. 데이터베이스 인덱싱
3. 블록체인

</br>
</br>

# 해시 함수
> 자바에서는 해시셋, 해시맵 이라는 표준 API를 제공하여 해시와 거의 동일하게 동작함으로 해시를 쉽게 사용할 수 있다.

## 해시 함수를 구현할 떄 고려할 내용
> 코딩테스트에서 해시 함수를 직접 구현하는 문제도 나오지않고 자바에서 해시셋 해시맵으로 쉽게 해시를 사용 할 수 있지만 해시의 원리를 이해하여 좀더 효율적으로 사용할 수 있다.

1. 해시함수의 변환 값은 해시테이블의 크기를 넘으면 안된다.
  - 예를들어 해시테이블 크기가 N이라면 해시함수의 변환값은 0~N-1 사이의 값을 내야한다.
2. 해시 함수가 변환한 값의 충돌은 최대한 적게 발생해야한다.
  - 충돌의 의미는 서로다른 두 키에대해 해싱 함수가 적용한 결과가 동일한것을 말한다. 
  - 충돌의 의미는 서로다른 두 키에대해 해싱 함수가 적용한 결과가 동일한것을 말한다. 
  - 즉, 해시는 충돌이라는 문제를 갖고있고, 이를 해결하기위한 다양한 해쉬 함수를 만드는 전략이 있다.
> 충돌이 아예 발생하지 않는 해시함수는 거의 없다.

## 자주 사용하는 해시 함수
**나눗셈법(division method)** : 키를 소수로 나눈 나머지를 활용한다.
- 소수로 나누는 이유는 다른 수를 사용할 때보다 충돌이 적기 때문이다.
- 나눗셈법 공식:  h(x) = x mod k  
  - 키 % 소수 = 해싱값
  - mod 는 % 같은 모듈러 연산이라는 의미이다.
> 모듈러연산 : 나머지를 취하는 연산 (%)을 모듈러 연산이라고 한다.
  
**곱셈법(multiplication method)** : 곱셈법은 나눗셈법과 비슷하게 모듈러 연산을 활용하지만 소수는 활용하지 않는다.
- 공식: h(k) =(((x * a) mod 1) * m)
m: 최대 버킷의 개수, a: 황금비(gold ratio number)
>황금비: 수학적으로 임의의 길이를 두 부분으로 나누었을 때, 전체와 비율이 긴 부분과 짧은 부분의 비율과 같은 비율을 뜻한다.

**문자열 해싱** : 나눗셈법,곱셈법은 키의 자료형이 숫자일때고, 문자열 해싱은 키의 자료형이 문자열일 때도 사용할 수 있는 해시 함수이다.
- 문자열 해싱은 문자열의 문자를 숫자로 변환하고 이 숫자들을 다항식의 값으로 변환해서 해싱한다.

공식   
$$
\text{hash}(s) = (s_0 \times p^0 + s_1 \times p^1 + s_2 \times p^2 + \cdots + s_{n-1} \times p^{n-1}) \bmod m
$$
